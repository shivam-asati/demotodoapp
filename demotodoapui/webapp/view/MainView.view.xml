<?xml version="1.0" encoding="UTF-8"?>
<mvc:View
  xmlns:mvc="sap.ui.core.mvc"
  xmlns="sap.m"
  xmlns:core="sap.ui.core"
  controllerName="demotodoapui.controller.MainView"
>
  <Page title="Ice Cream Shop Sales Report">
    <content>
      <VBox fitContainer="true" justifyContent="Start" alignItems="Stretch" width="100%">
        <Panel headerText="Filters" expandable="true" expanded="true">
          <Toolbar>
            <Label text="Date Range" />
            <DateRangeSelection id="dateRange" width="20%" />
            <Label text="Category" />
            <Select id="categorySelect" width="20%">
              <items>
                <core:Item key="all" text="All" />
                <core:Item key="icecream" text="Ice Cream" />
                <core:Item key="beverages" text="Beverages" />
              </items>
            </Select>
            <Button text="Apply" press="onFilterApply" />
          </Toolbar>
        </Panel>

        <Panel headerText="Sales Data">
          <Table id="salesTable" inset="false" width="100%">
            <columns>
              <Column><Text text="Item Name" /></Column>
              <Column><Text text="Quantity Sold" /></Column>
              <Column><Text text="Revenue" /></Column>
            </columns>
            <items>
              <ColumnListItem>
                <cells>
                  <Text text="{itemName}" />
                  <Text text="{quantitySold}" />
                  <Text text="{revenue}" />
                </cells>
              </ColumnListItem>
            </items>
          </Table>
        </Panel>

        <Panel headerText="Sales Trends">
          <VBox>
            <VizFrame id="salesChart" height="400px" width="100%" uiConfig="{applicationSet:'fiori'}">
              <dataset>
                <FlattenedDataset
                  data="{/salesTrends}"
                  dimensions="[{name: 'Month', value: '{month}'}]"
                  measures="[{name: 'Revenue', value: '{revenue}'}]"
                />
              </dataset>
              <feeds>
                <FeedItem uid="valueAxis" type="Measure" values="Revenue" />
                <FeedItem uid="categoryAxis" type="Dimension" values="Month" />
              </feeds>
            </VizFrame>
          </VBox>
        </Panel>
      </VBox>
    </content>
  </Page>
</mvc:View>