<?xml version="1.0" encoding="UTF-8"?>
<mvc:View
  xmlns:mvc="sap.ui.core.mvc"
  xmlns="sap.m"
  controllerName="demotodoapui.controller.MainView"
>
  <Page title="Ice Cream Shop Sales Report">
    <content>
      <VBox>
        <Toolbar>
          <SearchField
            id="filterInput"
            placeholder="Filter by Flavor or Date"
            liveChange="onFilter"
          />
          <Button text="Reset Filters" press="onResetFilters" />
        </Toolbar>

        <Table id="salesTable" items="{salesModel>/sales}">
          <columns>
            <Column><Text text="Date" /></Column>
            <Column><Text text="Flavor" /></Column>
            <Column><Text text="Quantity Sold" /></Column>
            <Column><Text text="Revenue" /></Column>
            <Column><Text text="Profit" /></Column>
          </columns>
          <items>
            <ColumnListItem>
              <cells>
                <Text text="{salesModel>date}" />
                <Text text="{salesModel>flavor}" />
                <Text text="{salesModel>quantity}" />
                <Text text="{salesModel>revenue}" />
                <Text text="{salesModel>profit}" />
              </cells>
            </ColumnListItem>
          </items>
        </Table>

        <Panel headerText="Sales Trends">
          <content>
            <VizFrame id="salesChart" width="100%" height="400px" />
          </content>
        </Panel>

        <Toolbar>
          <Text text="Total Sales: " />
          <Text id="totalSales" text="0" />
          <Text text=" | Total Revenue: " />
          <Text id="totalRevenue" text="0" />
          <Text text=" | Total Profit: " />
          <Text id="totalProfit" text="0" />
        </Toolbar>
      </VBox>
    </content>
  </Page>
</mvc:View>